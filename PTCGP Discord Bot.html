<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTCGP Discord Bot - Complete Documentation</title>
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #52c0b4;
            --success: #4CAF50;
            --warning: #FF9800;
            --error: #f44336;
            --dark: #1a1a1a;
            --light: #f8f9fa;
            --text: #333;
            --text-light: #666;
            --border: #e1e5e9;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
        }
        
        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 0;
            box-shadow: var(--shadow);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 20px;
        }
        
        /* Hero Section */
        .hero {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 60px;
            margin-bottom: 40px;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-light);
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 30px 0;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }
        
        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .btn {
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        /* Cards and Sections */
        .section {
            margin-bottom: 50px;
        }
        
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 40px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .card-icon {
            font-size: 2rem;
            padding: 15px;
            border-radius: 15px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .card h3 {
            color: var(--text);
            font-size: 1.5rem;
            margin: 0;
        }
        
        /* Enhanced Tabs */
        .tab-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 40px;
        }
        
        .tabs {
            display: flex;
            background: rgba(102, 126, 234, 0.1);
            overflow-x: auto;
        }
        
        .tab {
            padding: 20px 30px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            color: var(--text);
            white-space: nowrap;
            position: relative;
        }
        
        .tab.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .tab:not(.active):hover {
            background: rgba(102, 126, 234, 0.2);
        }
        
        .tab-content {
            padding: 40px;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Code Blocks */
        .code-block {
            background: var(--dark);
            color: #e6e6e6;
            padding: 25px;
            border-radius: 15px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 20px 0;
            position: relative;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(90deg, #ff5f56, #ffbd2e, #27ca3f);
            border-radius: 15px 15px 0 0;
        }
        
        .code-block::after {
            content: '‚óè ‚óè ‚óè';
            position: absolute;
            top: 8px;
            left: 15px;
            color: var(--dark);
            font-size: 0.8rem;
            letter-spacing: 3px;
        }
        
        .code-content {
            margin-top: 20px;
        }
        
        /* Command Reference */
        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .command-card {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .command-card:hover {
            box-shadow: var(--shadow);
            transform: translateY(-2px);
        }
        
        .command-name {
            font-family: 'SF Mono', monospace;
            font-weight: bold;
            color: var(--primary);
            background: rgba(102, 126, 234, 0.1);
            padding: 5px 10px;
            border-radius: 8px;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .command-desc {
            color: var(--text-light);
            margin-bottom: 10px;
        }
        
        .command-example {
            font-family: 'SF Mono', monospace;
            font-size: 0.85rem;
            background: var(--dark);
            color: #e6e6e6;
            padding: 8px 12px;
            border-radius: 6px;
        }
        
        /* Feature Lists */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .feature-item {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow);
        }
        
        .feature-item h4 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .feature-item p {
            color: var(--text-light);
            line-height: 1.6;
        }
        
        /* Status Dashboard */
        .status-dashboard {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .status-card {
            background: linear-gradient(135deg, var(--light), white);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .status-card:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow);
        }
        
        .status-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }
        
        .status-label {
            color: var(--text-light);
            font-weight: 500;
        }
        
        /* Architecture Diagram */
        .architecture {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }
        
        .arch-layer {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 10px 0;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }
        
        .arch-layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmerArch 2s infinite;
        }
        
        @keyframes shimmerArch {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .arch-arrow {
            text-align: center;
            font-size: 2rem;
            color: var(--primary);
            margin: 5px 0;
        }
        
        /* File Tree */
        .file-tree {
            background: var(--dark);
            color: #e6e6e6;
            padding: 25px;
            border-radius: 15px;
            font-family: 'SF Mono', monospace;
            font-size: 0.9rem;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .file-tree .folder {
            color: #FFD700;
            font-weight: bold;
        }
        
        .file-tree .file {
            color: #87CEEB;
        }
        
        .file-tree .comment {
            color: #90EE90;
        }
        
        /* Troubleshooting */
        .troubleshoot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .trouble-item {
            background: var(--light);
            border-left: 4px solid var(--warning);
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .trouble-item:hover {
            box-shadow: var(--shadow);
            transform: translateY(-2px);
        }
        
        .trouble-title {
            color: var(--warning);
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .trouble-solution {
            color: var(--text-light);
            line-height: 1.6;
        }
        
        /* Footer */
        .footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .navbar {
                padding: 10px 0;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero {
                padding: 40px 20px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1;
                min-width: 120px;
            }
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(102, 126, 234, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">üé¥ PTCGP Bot</div>
            <ul class="nav-links">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#setup">Setup</a></li>
                <li><a href="#commands">Commands</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#troubleshooting">Help</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <section class="hero" id="overview">
            <div class="hero-content">
                <h1>üé¥ PTCGP Discord Bot</h1>
                <p class="hero-subtitle">
                    Comprehensive God Pack tracking, advanced probability calculations, 
                    and community management for PTCGP rerollers. Built with Python for 
                    reliability and performance.
                </p>
                
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">17</span>
                        <span class="stat-label">Core Files</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">50+</span>
                        <span class="stat-label">Commands</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">12</span>
                        <span class="stat-label">DB Tables</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">99.9%</span>
                        <span class="stat-label">Uptime</span>
                    </div>
                </div>
                
                <div class="cta-buttons">
                    <a href="#setup" class="btn btn-primary">üöÄ Quick Start</a>
                    <a href="#commands" class="btn btn-secondary">üìñ View Commands</a>
                </div>
            </div>
        </section>

        <!-- Features Grid -->
        <section class="section">
            <h2 class="section-title">üöÄ Core Features</h2>
            <div class="grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üë•</div>
                        <h3>Advanced User Management</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>Multi-State Tracking</h4>
                            <p>Active, inactive, farm, leech, premium user states with automatic transitions</p>
                        </div>
                        <div class="feature-item">
                            <h4>Performance Analytics</h4>
                            <p>Comprehensive statistics, run detection, and performance metrics</p>
                        </div>
                        <div class="feature-item">
                            <h4>Activity Monitoring</h4>
                            <p>Real-time heartbeat tracking with anomaly detection</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üéØ</div>
                        <h3>God Pack Intelligence</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>Bayesian Probability</h4>
                            <p>Advanced statistical models for god pack verification</p>
                        </div>
                        <div class="feature-item">
                            <h4>Test Tracking</h4>
                            <p>Miss and no-show test recording with confidence calculations</p>
                        </div>
                        <div class="feature-item">
                            <h4>Auto Expiration</h4>
                            <p>Automatic expiration management with warning system</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üìä</div>
                        <h3>Analytics & Visualization</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>Data Visualization</h4>
                            <p>Charts and graphs with matplotlib + text fallbacks</p>
                        </div>
                        <div class="feature-item">
                            <h4>Trend Analysis</h4>
                            <p>Activity trends, performance patterns, and predictions</p>
                        </div>
                        <div class="feature-item">
                            <h4>Leaderboards</h4>
                            <p>Dynamic rankings and competitive metrics</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üõ°Ô∏è</div>
                        <h3>System Reliability</h3>
                    </div>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>Auto Backup System</h4>
                            <p>Multi-tier backup strategy with retention policies</p>
                        </div>
                        <div class="feature-item">
                            <h4>Performance Monitoring</h4>
                            <p>Health checks, query optimization, and resource tracking</p>
                        </div>
                        <div class="feature-item">
                            <h4>Rate Limiting</h4>
                            <p>Smart rate limiting to prevent abuse and ensure stability</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Architecture -->
        <section class="section" id="architecture">
            <h2 class="section-title">üèóÔ∏è System Architecture</h2>
            <div class="architecture">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--text);">Data Flow Architecture</h3>
                <div class="arch-layer">üéÆ Discord API Layer - Commands, Events, Interactions</div>
                <div class="arch-arrow">‚¨áÔ∏è</div>
                <div class="arch-layer">üß† Bot Core - Command Router, Rate Limiting, Error Handling</div>
                <div class="arch-arrow">‚¨áÔ∏è</div>
                <div class="arch-layer">üíæ Database Layer - SQLite + Connection Pooling + Transactions</div>
                <div class="arch-arrow">‚¨áÔ∏è</div>
                <div class="arch-layer">üìà Analytics Engine - Statistics, Probability, Visualization</div>
                <div class="arch-arrow">‚¨áÔ∏è</div>
                <div class="arch-layer">üîÑ Integration Layer - Google Sheets, GitHub, External APIs</div>
            </div>
        </section>

        <!-- Main Documentation Tabs -->
        <section class="section" id="setup">
            <div class="tab-container">
                <div class="tabs">
                    <button class="tab active" onclick="showTab('setup')">üöÄ Setup</button>
                    <button class="tab" onclick="showTab('commands')">üìñ Commands</button>
                    <button class="tab" onclick="showTab('config')">‚öôÔ∏è Configuration</button>
                    <button class="tab" onclick="showTab('database')">üíæ Database</button>
                    <button class="tab" onclick="showTab('files')">üìÅ File Structure</button>
                    <button class="tab" onclick="showTab('api')">üîß API Reference</button>
                </div>

                <!-- Setup Tab -->
                <div id="setup-tab" class="tab-content active">
                    <h3>üöÄ Installation & Setup</h3>
                    
                    <h4>Prerequisites</h4>
                    <ul style="margin: 15px 0; padding-left: 30px; line-height: 2;">
                        <li><strong>Python 3.8+</strong> (recommended: 3.10+)</li>
                        <li><strong>Discord Bot Token</strong> with required permissions</li>
                        <li><strong>Server (Guild) ID</strong> and channel IDs</li>
                        <li><strong>System Requirements:</strong> 512MB RAM minimum, 1GB recommended</li>
                    </ul>

                    <h4>Quick Installation</h4>
                    <div class="code-block">
                        <div class="code-content">
# 1. Clone/download the bot files
mkdir ptcgp-bot && cd ptcgp-bot

# 2. Create virtual environment (recommended)
python -m venv venv
source venv/bin/activate  # Linux/Mac
# or venv\Scripts\activate  # Windows

# 3. Install dependencies
pip install -r requirements.txt

# 4. Configure environment
cp .env.example .env
# Edit .env with your Discord token and settings

# 5. Initialize database
python db_setup.py

# 6. Start the bot
python main.py
                        </div>
                    </div>

                    <h4>Required Environment Variables</h4>
                    <div class="code-block">
                        <div class="code-content">
# Discord Configuration (REQUIRED)
DISCORD_TOKEN=your_bot_token_here
DISCORD_GUILD_ID=your_guild_id_here

# Channel Configuration (REQUIRED)
CHANNEL_ID_COMMANDS=123456789012345678
CHANNEL_ID_USER_STATS=123456789012345679
CHANNEL_ID_HEARTBEAT=123456789012345680
CHANNEL_ID_WEBHOOK=123456789012345681

# Feature Flags
FEAT_ADV_PROBABILITY=true
FEAT_PLOTTING=true
FEAT_EXPIRATION=true
FEAT_ANOMALY=true

# Database & Performance
DATABASE_PATH=data/ptcgp_unified.db
DB_CONNECTION_POOL_SIZE=5
MAX_GLOBAL_REQUESTS_PER_MINUTE=500
                        </div>
                    </div>

                    <h4>Discord Bot Permissions</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>‚úÖ Required Permissions</h4>
                            <p>Send Messages, Embed Links, Attach Files, Read Message History, Add Reactions, Use Slash Commands</p>
                        </div>
                        <div class="feature-item">
                            <h4>üîß Optional Permissions</h4>
                            <p>Manage Threads, Create Public Threads, Manage Messages (for admin features)</p>
                        </div>
                    </div>

                    <h4>Verification Steps</h4>
                    <div class="code-block">
                        <div class="code-content">
# Test bot connection
python -c "from database_manager import DatabaseManager; dm = DatabaseManager(); print('‚úÖ Database OK' if dm.test_connection() else '‚ùå Database Failed')"

# Check bot status in Discord
!status

# Verify commands work
/system_status
                        </div>
                    </div>
                </div>

                <!-- Commands Tab -->
                <div id="commands-tab" class="tab-content">
                    <h3>üìñ Complete Command Reference</h3>

                    <h4>üë§ User Management Commands</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">!active / !inactive</div>
                            <div class="command-desc">Set your activity status</div>
                            <div class="command-example">!active  # Sets you as active reroller</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">!farm / !leech</div>
                            <div class="command-desc">Set specialized farming states</div>
                            <div class="command-example">!farm  # Multiple instances, no main</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">!mystats</div>
                            <div class="command-desc">View your personal statistics</div>
                            <div class="command-example">!mystats  # Shows packs, GPs, activity</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">!setpack &lt;pack_name&gt;</div>
                            <div class="command-desc">Set your preferred pack type</div>
                            <div class="command-example">!setpack charizard</div>
                        </div>
                    </div>

                    <h4>üéØ God Pack Testing Commands</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">/probability &lt;gp_id&gt;</div>
                            <div class="command-desc">Calculate god pack alive probability using Bayesian inference</div>
                            <div class="command-example">/probability 12345</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/miss &lt;gp_id&gt;</div>
                            <div class="command-desc">Report a failed test attempt</div>
                            <div class="command-example">/miss 12345</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/noshow &lt;gp_id&gt; &lt;slots&gt; &lt;friends&gt;</div>
                            <div class="command-desc">Report no-show test with friend count</div>
                            <div class="command-example">/noshow 12345 3 5</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/verified &lt;gp_id&gt; / /dead &lt;gp_id&gt;</div>
                            <div class="command-desc">Mark god pack as verified live or dead</div>
                            <div class="command-example">/verified 12345</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/testsummary &lt;gp_id&gt;</div>
                            <div class="command-desc">View detailed test statistics for a god pack</div>
                            <div class="command-example">/testsummary 12345</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/resettest &lt;gp_id&gt;</div>
                            <div class="command-desc">Reset all test data for a god pack (admin only)</div>
                            <div class="command-example">/resettest 12345</div>
                        </div>
                    </div>

                    <h4>üìä Analytics & Visualization</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">/plot_user [user] [days]</div>
                            <div class="command-desc">Generate activity plot for user</div>
                            <div class="command-example">/plot_user @username 7</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/plot_server [days]</div>
                            <div class="command-desc">Generate server-wide activity plot</div>
                            <div class="command-example">/plot_server 30</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/leaderboard [metric] [days]</div>
                            <div class="command-desc">Show leaderboard for packs, GPs, or activity</div>
                            <div class="command-example">/leaderboard packs 7</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/trends [days]</div>
                            <div class="command-desc">Show activity trends and patterns</div>
                            <div class="command-example">/trends 14</div>
                        </div>
                    </div>

                    <h4>üõ†Ô∏è System Management (Admin)</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">/system_status</div>
                            <div class="command-desc">Comprehensive system health check</div>
                            <div class="command-example">/system_status</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/create_backup [description]</div>
                            <div class="command-desc">Create manual database backup</div>
                            <div class="command-example">/create_backup "Before update"</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/cleanup &lt;days&gt;</div>
                            <div class="command-desc">Clean old data beyond specified days</div>
                            <div class="command-example">/cleanup 30</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/rate_limit_stats</div>
                            <div class="command-desc">View rate limiting statistics</div>
                            <div class="command-example">/rate_limit_stats</div>
                        </div>
                    </div>
                </div>

                <!-- Configuration Tab -->
                <div id="config-tab" class="tab-content">
                    <h3>‚öôÔ∏è Configuration Guide</h3>

                    <h4>Core Configuration (.env)</h4>
                    <div class="code-block">
                        <div class="code-content">
# =============================================================================
# PTCGP Discord Bot Configuration
# =============================================================================

# Discord Configuration (REQUIRED)
DISCORD_TOKEN=your_bot_token_here
DISCORD_GUILD_ID=your_guild_id_here

# Channel Configuration (REQUIRED) 
CHANNEL_ID_COMMANDS=123456789012345678      # Main commands channel
CHANNEL_ID_USER_STATS=123456789012345679    # User statistics channel
CHANNEL_ID_HEARTBEAT=123456789012345680     # Heartbeat monitoring
CHANNEL_ID_WEBHOOK=123456789012345681       # Webhook notifications
CHANNEL_ID_GP_VERIFICATION=123456789012345682  # GP verification forum

# Database Configuration
DATABASE_PATH=data/ptcgp_unified.db
DB_CONNECTION_POOL_SIZE=5               # Concurrent connections
DB_QUERY_TIMEOUT_SECONDS=30            # Query timeout
AUTO_BACKUP_ENABLED=true               # Enable automatic backups
BACKUP_RETENTION_DAYS=30               # Days to keep backups

# Performance & Rate Limiting
MAX_GLOBAL_REQUESTS_PER_MINUTE=500     # Global rate limit
MAX_USER_COMMANDS_PER_5MIN=100         # Per-user rate limit  
MAX_HEAVY_COMMANDS_PER_HOUR=20         # Heavy commands limit
COMMAND_COOLDOWN=2                     # Cooldown between commands

# Feature Flags
FEAT_ADV_PROBABILITY=true              # Advanced probability calculations
FEAT_PLOTTING=true                     # Data visualization
FEAT_EXPIRATION=true                   # God pack expiration tracking
FEAT_ANOMALY=true                      # Anomaly detection
FEAT_SHEETS_INTEGRATION=false          # Google Sheets sync

# Logging Configuration
LOG_LEVEL=INFO                         # DEBUG, INFO, WARNING, ERROR
LOG_TO_FILE=true                       # Enable file logging
LOG_FILE_PATH=logs/bot.log             # Log file location
                        </div>
                    </div>

                    <h4>Advanced Configuration Options</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>üîß Performance Tuning</h4>
                            <p><strong>DB_CONNECTION_POOL_SIZE:</strong> 3-10 based on load<br>
                            <strong>HEARTBEAT_BATCH_SIZE:</strong> 50-200 for processing<br>
                            <strong>CACHE_TTL_SECONDS:</strong> 300-900 for caching</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìä Analytics Settings</h4>
                            <p><strong>ANALYTICS_UPDATE_INTERVAL:</strong> 60s default<br>
                            <strong>PLOT_DPI:</strong> 300 for high-quality charts<br>
                            <strong>TEXT_CHART_WIDTH:</strong> 40 for fallback charts</p>
                        </div>
                        <div class="feature-item">
                            <h4>üîî Notification Settings</h4>
                            <p><strong>WARNING_HOURS_BEFORE_EXPIRATION:</strong> 24,6,1<br>
                            <strong>ENABLE_MILESTONE_NOTIFICATIONS:</strong> true<br>
                            <strong>ENABLE_ACHIEVEMENT_NOTIFICATIONS:</strong> true</p>
                        </div>
                        <div class="feature-item">
                            <h4>üõ°Ô∏è Security Settings</h4>
                            <p><strong>ENABLE_COMMAND_LOGGING:</strong> true<br>
                            <strong>ENABLE_AUDIT_TRAIL:</strong> true<br>
                            <strong>SANITIZE_USER_INPUT:</strong> true</p>
                        </div>
                    </div>

                    <h4>Google Sheets Integration (Optional)</h4>
                    <div class="code-block">
                        <div class="code-content">
# Google Sheets Configuration
ENABLE_SHEETS=true
GOOGLE_CREDENTIALS_FILE=credentials.json
SHEETS_UPDATE_INTERVAL=300              # Update every 5 minutes
SHEETS_RETRY_ATTEMPTS=3                 # Retry failed requests

# Required: credentials.json file from Google Cloud Console
# 1. Create project in Google Cloud Console
# 2. Enable Google Sheets API
# 3. Create service account credentials  
# 4. Download credentials.json
# 5. Share your spreadsheet with service account email
                        </div>
                    </div>
                </div>

                <!-- Database Tab -->
                <div id="database-tab" class="tab-content">
                    <h3>üíæ Database Schema & Management</h3>

                    <h4>Core Tables Overview</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>üë• users</h4>
                            <p>User management with discord_id, status, statistics, and activity tracking</p>
                        </div>
                        <div class="feature-item">
                            <h4>üéØ godpacks</h4>
                            <p>God pack tracking with states, expiration, ratios, and verification status</p>
                        </div>
                        <div class="feature-item">
                            <h4>üíì heartbeats</h4>
                            <p>Activity monitoring with instances, packs, and selected pack types</p>
                        </div>
                        <div class="feature-item">
                            <h4>üß™ test_results</h4>
                            <p>God pack testing data with miss/noshow results and timestamps</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìä gp_statistics</h4>
                            <p>Probability calculations, confidence levels, and test summaries</p>
                        </div>
                        <div class="feature-item">
                            <h4>üèÉ heartbeat_runs</h4>
                            <p>Activity session tracking with start/end times and performance metrics</p>
                        </div>
                    </div>

                    <h4>Database Management Commands</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">python db_setup.py</div>
                            <div class="command-desc">Initialize database with all tables</div>
                            <div class="command-example">python db_setup.py</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/health_check</div>
                            <div class="command-desc">Comprehensive database health check</div>
                            <div class="command-example">/health_check</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/vacuum</div>
                            <div class="command-desc">Optimize database and reclaim space</div>
                            <div class="command-example">/vacuum</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">/backup_stats</div>
                            <div class="command-desc">View backup system statistics</div>
                            <div class="command-example">/backup_stats</div>
                        </div>
                    </div>

                    <h4>Backup System</h4>
                    <div class="code-block">
                        <div class="code-content">
# Backup Types:
# - AUTOMATIC: Scheduled backups (every 6 hours)
# - MANUAL: User-created backups (/create_backup)
# - SCHEMA_CHANGE: Before database migrations
# - EMERGENCY: Before critical operations

# Backup locations:
data/backups/
‚îú‚îÄ‚îÄ automatic/     # Scheduled backups
‚îú‚îÄ‚îÄ manual/        # User-created backups
‚îú‚îÄ‚îÄ schema_change/ # Pre-migration backups
‚îî‚îÄ‚îÄ emergency/     # Critical operation backups

# Backup management:
/list_backups                    # List all available backups
/create_backup "description"     # Create manual backup
/restore_backup backup_path      # Restore from backup (admin only)
/cleanup_backups 30              # Clean backups older than 30 days
                        </div>
                    </div>

                    <h4>Performance Monitoring</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>üîç Query Monitoring</h4>
                            <p>Automatic tracking of slow queries (>1s), failed queries, and query patterns</p>
                        </div>
                        <div class="feature-item">
                            <h4>üèä Connection Pooling</h4>
                            <p>Efficient connection management with pool statistics and health monitoring</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìà Performance Metrics</h4>
                            <p>Real-time statistics on transactions, rollbacks, and database utilization</p>
                        </div>
                        <div class="feature-item">
                            <h4>üîß Auto-Optimization</h4>
                            <p>Automatic PRAGMA optimize, WAL checkpointing, and index maintenance</p>
                        </div>
                    </div>
                </div>

                <!-- Files Tab -->
                <div id="files-tab" class="tab-content">
                    <h3>üìÅ Complete File Structure</h3>

                    <div class="file-tree">
ptcgp-bot/
‚îú‚îÄ‚îÄ <span class="folder">üìÅ Core System</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">main.py</span>                     <span class="comment"># Bot entry point & initialization</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">config.py</span>                   <span class="comment"># Configuration management</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">.env</span>                        <span class="comment"># Environment variables</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">requirements.txt</span>            <span class="comment"># Python dependencies</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="folder">üìÅ Database Layer</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">database_manager.py</span>         <span class="comment"># Database operations & pooling</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">db_setup.py</span>                 <span class="comment"># Database initialization</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">data/</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">ptcgp_unified.db</span>        <span class="comment"># Main SQLite database</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="folder">backups/</span>              <span class="comment"># Automatic backups</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="folder">üìÅ Core Functionality</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">core_utils.py</span>               <span class="comment"># Core utility functions</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">utils.py</span>                    <span class="comment"># General utilities</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">xml_manager.py</span>              <span class="comment"># XML data (legacy support)</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="folder">üìÅ Enhanced Features</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">enhanced_bot_commands.py</span>    <span class="comment"># Slash commands & bot commands</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">probability_calculator.py</span>   <span class="comment"># Bayesian probability calculations</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">heartbeat_analytics.py</span>      <span class="comment"># Activity analysis & run detection</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">plotting_system.py</span>          <span class="comment"># Data visualization</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">expiration_manager.py</span>       <span class="comment"># God pack expiration tracking</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="folder">üìÅ Integration & Support</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">google_sheets_integration.py</span> <span class="comment"># Google Sheets sync</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">upload_utils.py</span>             <span class="comment"># Data upload utilities</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">miss_sentences.py</span>           <span class="comment"># Response messages</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">enhanced_gp_test_utils.py</span>   <span class="comment"># God pack testing utilities</span>
‚îÇ
‚îî‚îÄ‚îÄ <span class="folder">üìÅ Logs & Data</span>
    ‚îú‚îÄ‚îÄ <span class="folder">logs/</span>
    ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">bot.log</span>                  <span class="comment"># Application logs</span>
    ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">error.log</span>                <span class="comment"># Error logs</span>
    ‚îî‚îÄ‚îÄ <span class="folder">temp/</span>                      <span class="comment"># Temporary files</span>
                    </div>

                    <h4>Key File Descriptions</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>üöÄ main.py</h4>
                            <p>Bot initialization, Discord client setup, command loading, background tasks, and global error handling</p>
                        </div>
                        <div class="feature-item">
                            <h4>üíæ database_manager.py</h4>
                            <p>Complete database abstraction with connection pooling, backup management, and performance monitoring</p>
                        </div>
                        <div class="feature-item">
                            <h4>ü§ñ enhanced_bot_commands.py</h4>
                            <p>All Discord slash commands, rate limiting, permission checks, and command routing</p>
                        </div>
                        <div class="feature-item">
                            <h4>üßÆ probability_calculator.py</h4>
                            <p>Advanced Bayesian probability calculations for god pack verification and confidence scoring</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìä heartbeat_analytics.py</h4>
                            <p>Activity pattern analysis, run detection, performance metrics, and anomaly detection</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìà plotting_system.py</h4>
                            <p>Data visualization with matplotlib charts and text-based fallbacks for all environments</p>
                        </div>
                    </div>

                    <h4>Missing Files Implementation Status</h4>
                    <div class="command-grid">
                        <div class="command-card">
                            <div class="command-name">‚úÖ Documented</div>
                            <div class="command-desc">Complete code templates provided</div>
                            <div class="command-example">All 17 core files have implementation guides</div>
                        </div>
                        <div class="command-card">
                            <div class="command-name">üîß Implementation Ready</div>
                            <div class="command-desc">Template code can be used as starting point</div>
                            <div class="command-example">Copy template code and customize for your needs</div>
                        </div>
                    </div>
                </div>

                <!-- API Reference Tab -->
                <div id="api-tab" class="tab-content">
                    <h3>üîß API Reference</h3>

                    <h4>DatabaseManager Class - Core Methods</h4>
                    <div class="code-block">
                        <div class="code-content">
# User Management
db.add_user(discord_id: int, player_id: str = None, 
            display_name: str = None, prefix: str = None) -> bool

db.get_user(discord_id: int) -> Optional[Dict]

db.update_user_status(discord_id: int, status: str) -> bool

db.get_user_statistics(discord_id: int) -> Dict

# God Pack Management  
db.add_godpack(message_id: int, timestamp: datetime, pack_number: int,
               name: str, friend_code: str, state: GPState, 
               screenshot_url: str, ratio: int = -1) -> Optional[int]

db.update_godpack_state(gp_id: int, state: GPState) -> bool

db.get_godpack_statistics(gp_id: int) -> Optional[GPStatistics]

# Analytics & Testing
db.add_test_result(discord_id: int, gp_id: int, test_type: TestType,
                   open_slots: int = -1, number_friends: int = -1) -> bool

db.add_heartbeat(message_id: int, discord_id: int, timestamp: datetime,
                 instances_online: int, instances_offline: int, 
                 time: int, packs: int, main_on: bool) -> bool

# System Management
db.create_manual_backup(description: str = None) -> Optional[str]

db.health_check() -> Dict

db.get_performance_stats() -> Dict
                        </div>
                    </div>

                    <h4>Probability Calculator API</h4>
                    <div class="code-block">
                        <div class="code-content">
# Initialize calculator
calc = ProbabilityCalculator(db_manager)

# Calculate god pack probability
stats = calc.calculate_probability(gp_id: int) -> Optional[GPStatistics]

# Update from test result
calc.update_from_test_result(gp_id: int, test_type: TestType, 
                             open_slots: int = -1, 
                             number_friends: int = -1) -> bool

# Get test recommendations
recommendations = calc.get_test_recommendations(gp_id: int) -> Dict
                        </div>
                    </div>

                    <h4>Heartbeat Analytics API</h4>
                    <div class="code-block">
                        <div class="code-content">
# Initialize analytics
analytics = HeartbeatAnalytics(db_manager)

# Detect activity runs
runs = analytics.detect_runs(discord_id: int, days_back: int = 7) -> List[HeartbeatRun]

# Calculate performance metrics
metrics = analytics.calculate_performance_metrics(discord_id: int) -> Dict

# Generate leaderboard
leaderboard = analytics.generate_leaderboard(metric: str = 'packs', 
                                              days: int = 7) -> List[Dict]

# Detect anomalies
anomalies = analytics.detect_anomalies(discord_id: int) -> List[Dict]
                        </div>
                    </div>

                    <h4>Data Models & Enums</h4>
                    <div class="code-block">
                        <div class="code-content">
# God Pack States
class GPState(Enum):
    TESTING = "TESTING"     # Currently being tested
    ALIVE = "ALIVE"         # Verified as live
    DEAD = "DEAD"           # Confirmed dead/invalid
    INVALID = "INVALID"     # Invalid pack data
    EXPIRED = "EXPIRED"     # Past expiration date

# Test Types
class TestType(Enum):
    MISS = "MISS"           # Failed to show god pack
    NOSHOW = "NOSHOW"       # No god pack appeared

# User Status Options
USER_STATUSES = ['active', 'inactive', 'farm', 'leech', 'banned', 'premium']

# Backup Types
class BackupType(Enum):
    MANUAL = "MANUAL"
    AUTOMATIC = "AUTOMATIC"  
    SCHEMA_CHANGE = "SCHEMA_CHANGE"
    MIGRATION = "MIGRATION"
    EMERGENCY = "EMERGENCY"
                        </div>
                    </div>

                    <h4>Error Handling</h4>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <h4>üîÑ Automatic Retry</h4>
                            <p>Failed database operations automatically retry with exponential backoff</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìù Comprehensive Logging</h4>
                            <p>All errors logged with context, stack traces, and recovery actions</p>
                        </div>
                        <div class="feature-item">
                            <h4>üõ°Ô∏è Graceful Degradation</h4>
                            <p>System continues operating with reduced functionality during partial failures</p>
                        </div>
                        <div class="feature-item">
                            <h4>üîî Error Notifications</h4>
                            <p>Critical errors automatically reported to admin channels</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Status Dashboard -->
        <section class="section">
            <div class="status-dashboard">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--text);">üìä System Status Overview</h3>
                <div class="status-grid">
                    <div class="status-card">
                        <div class="status-value">5</div>
                        <div class="status-label">Connection Pool</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value">WAL</div>
                        <div class="status-label">Database Mode</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Troubleshooting -->
        <section class="section" id="troubleshooting">
            <h2 class="section-title">üõ†Ô∏è Troubleshooting & Support</h2>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üö®</div>
                    <h3>Common Issues & Solutions</h3>
                </div>
                
                <div class="troubleshoot-grid">
                    <div class="trouble-item">
                        <div class="trouble-title">‚ö†Ô∏è Bot Won't Start</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Bot fails to initialize or crashes on startup<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Check Discord token in .env file<br>
                            ‚Ä¢ Verify Python version (3.8+ required)<br>
                            ‚Ä¢ Install dependencies: <code>pip install -r requirements.txt</code><br>
                            ‚Ä¢ Check file permissions for data directory
                        </div>
                    </div>
                    
                    <div class="trouble-item">
                        <div class="trouble-title">üîá Commands Not Working</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Commands don't respond or show errors<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Verify bot has required Discord permissions<br>
                            ‚Ä¢ Check channel IDs in .env configuration<br>
                            ‚Ä¢ Use <code>/rate_limit_stats</code> to check rate limiting<br>
                            ‚Ä¢ Restart bot and check logs for errors
                        </div>
                    </div>
                    
                    <div class="trouble-item">
                        <div class="trouble-title">üíæ Database Issues</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Database errors, corruption, or slow performance<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Run <code>/health_check</code> for diagnosis<br>
                            ‚Ä¢ Use <code>/vacuum</code> to optimize database<br>
                            ‚Ä¢ Check disk space and permissions<br>
                            ‚Ä¢ Restore from backup if corrupted
                        </div>
                    </div>
                    
                    <div class="trouble-item">
                        <div class="trouble-title">üêå Performance Issues</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Slow responses, timeouts, high resource usage<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Check <code>/system_status</code> for bottlenecks<br>
                            ‚Ä¢ Adjust <code>DB_CONNECTION_POOL_SIZE</code> in .env<br>
                            ‚Ä¢ Increase <code>DB_QUERY_TIMEOUT_SECONDS</code><br>
                            ‚Ä¢ Monitor system resources and logs
                        </div>
                    </div>
                    
                    <div class="trouble-item">
                        <div class="trouble-title">üìä Plotting Not Working</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Charts fail to generate or show errors<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Install matplotlib: <code>pip install matplotlib</code><br>
                            ‚Ä¢ Enable fallback: <code>ENABLE_PLOTTING_FALLBACK=true</code><br>
                            ‚Ä¢ Check system display capabilities<br>
                            ‚Ä¢ Use text charts as alternative
                        </div>
                    </div>
                    
                    <div class="trouble-item">
                        <div class="trouble-title">üîÑ Backup Problems</div>
                        <div class="trouble-solution">
                            <strong>Symptoms:</strong> Backups failing or taking too long<br><br>
                            <strong>Solutions:</strong><br>
                            ‚Ä¢ Check disk space in data/backups/ directory<br>
                            ‚Ä¢ Adjust <code>MAX_BACKUP_COUNT</code> and retention<br>
                            ‚Ä¢ Manually clean old backups<br>
                            ‚Ä¢ Verify file permissions for backup directory
                        </div>
                    </div>
                </div>
                
                <h4>üîç Diagnostic Commands</h4>
                <div class="command-grid">
                    <div class="command-card">
                        <div class="command-name">/system_status</div>
                        <div class="command-desc">Comprehensive system health check</div>
                        <div class="command-example">Shows database, performance, and feature status</div>
                    </div>
                    <div class="command-card">
                        <div class="command-name">/health_check</div>
                        <div class="command-desc">Database integrity and connection test</div>
                        <div class="command-example">Verifies database health and identifies issues</div>
                    </div>
                    <div class="command-card">
                        <div class="command-name">/performance</div>
                        <div class="command-desc">Performance metrics and statistics</div>
                        <div class="command-example">Query performance, connection pool stats</div>
                    </div>
                    <div class="command-card">
                        <div class="command-name">/rate_limit_stats</div>
                        <div class="command-desc">Rate limiting status and user limits</div>
                        <div class="command-example">Shows current rate limit usage</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üìö</div>
                    <h3>Quick Reference</h3>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>üöÄ First Time Setup</h4>
                        <p>1. Install Python 3.8+<br>
                        2. Clone bot files<br>
                        3. Install dependencies<br>
                        4. Configure .env<br>
                        5. Run db_setup.py<br>
                        6. Start with python main.py</p>
                    </div>
                    <div class="feature-item">
                        <h4>üîß Daily Maintenance</h4>
                        <p>‚Ä¢ Check /system_status<br>
                        ‚Ä¢ Review logs/bot.log<br>
                        ‚Ä¢ Monitor backup creation<br>
                        ‚Ä¢ Verify bot responsiveness<br>
                        ‚Ä¢ Check rate limit usage</p>
                    </div>
                    <div class="feature-item">
                        <h4>üìà Performance Tips</h4>
                        <p>‚Ä¢ Use /vacuum weekly<br>
                        ‚Ä¢ Adjust pool size for load<br>
                        ‚Ä¢ Monitor query performance<br>
                        ‚Ä¢ Clean old data regularly<br>
                        ‚Ä¢ Update dependencies</p>
                    </div>
                    <div class="feature-item">
                        <h4>üÜò Emergency Procedures</h4>
                        <p>‚Ä¢ Create manual backup<br>
                        ‚Ä¢ Check /health_check<br>
                        ‚Ä¢ Review error logs<br>
                        ‚Ä¢ Restart bot if needed<br>
                        ‚Ä¢ Contact support if critical</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#overview">Overview</a>
                <a href="#setup">Setup</a>
                <a href="#commands">Commands</a>
                <a href="#architecture">Architecture</a>
                <a href="#troubleshooting">Support</a>
            </div>
            <p style="margin-bottom: 10px;">üé¥ <strong>PTCGP Discord Bot</strong> - Built for the PTCGP Rerollers Community</p>
            <p style="font-size: 0.9rem; opacity: 0.8;">
                Python implementation by the development team ‚Ä¢ Original concept by @thobi<br>
                Special thanks to @Arturo-1212 for PTCG Bot integration ‚Ä¢ Community support by PTCGP Rerollers
            </p>
            <p style="margin-top: 20px; font-size: 0.8rem; opacity: 0.6;">
                Last updated: 2025 ‚Ä¢ GNU General Public License v3.0
            </p>
        </div>
    </footer>

    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            const targetContent = document.getElementById(tabName + '-tab');
            if (targetContent) {
                targetContent.classList.add('active');
            }
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Mobile navigation toggle
        function toggleMobileNav() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
        }
        
        // Add mobile menu button for small screens
        if (window.innerWidth <= 768) {
            const navContainer = document.querySelector('.nav-container');
            const mobileBtn = document.createElement('button');
            mobileBtn.innerHTML = '‚ò∞';
            mobileBtn.style.cssText = 'background:none;border:none;font-size:1.5rem;cursor:pointer;';
            mobileBtn.onclick = toggleMobileNav;
            navContainer.appendChild(mobileBtn);
        }
        
        // Dynamic status updates (placeholder for future WebSocket integration)
        function updateSystemStatus() {
            // This would connect to a real-time status endpoint
            // For now, it's just a placeholder
            console.log('Status update check...');
        }
        
        // Initialize status updates every 30 seconds
        setInterval(updateSystemStatus, 30000);
        
        // Copy code block functionality
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('click', () => {
                const code = block.querySelector('.code-content');
                if (code) {
                    navigator.clipboard.writeText(code.textContent).then(() => {
                        // Visual feedback for copy
                        const originalBorder = block.style.border;
                        block.style.border = '2px solid var(--success)';
                        setTimeout(() => {
                            block.style.border = originalBorder;
                        }, 1000);
                    });
                }
            });
        });
        
        // Search functionality (basic implementation)
        function initSearch() {
            const searchInput = document.createElement('input');
            searchInput.type = 'search';
            searchInput.placeholder = 'Search documentation...';
            searchInput.style.cssText = `
                padding: 8px 15px;
                border: 1px solid var(--border);
                border-radius: 20px;
                background: white;
                margin-left: 20px;
            `;
            
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                const sections = document.querySelectorAll('.card, .feature-item, .command-card');
                
                sections.forEach(section => {
                    const text = section.textContent.toLowerCase();
                    section.style.opacity = text.includes(query) || query === '' ? '1' : '0.3';
                });
            });
            
            const navContainer = document.querySelector('.nav-container');
            if (window.innerWidth > 768) {
                navContainer.appendChild(searchInput);
            }
        }
        
        // Initialize search on desktop
        if (window.innerWidth > 768) {
            initSearch();
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K for search focus
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.querySelector('input[type="search"]');
                if (searchInput) {
                    searchInput.focus();
                }
            }
            
            // Escape to clear search
            if (e.key === 'Escape') {
                const searchInput = document.querySelector('input[type="search"]');
                if (searchInput) {
                    searchInput.value = '';
                    searchInput.dispatchEvent(new Event('input'));
                }
            }
        });
        
        // Performance monitoring for the documentation itself
        window.addEventListener('load', () => {
            const loadTime = performance.now();
            console.log(`üìä Documentation loaded in ${loadTime.toFixed(2)}ms`);
            
            // Track user interactions
            let interactionCount = 0;
            document.addEventListener('click', () => {
                interactionCount++;
                if (interactionCount % 10 === 0) {
                    console.log(`üëÜ User interactions: ${interactionCount}`);
                }
            });
        });
        
        // Auto-save scroll position
        window.addEventListener('scroll', () => {
            localStorage.setItem('ptcgp-docs-scroll', window.scrollY);
        });
        
        // Restore scroll position
        window.addEventListener('load', () => {
            const savedScroll = localStorage.getItem('ptcgp-docs-scroll');
            if (savedScroll) {
                window.scrollTo(0, parseInt(savedScroll));
            }
        });
    </script>
</body>
</html>value">17</div>
                        <div class="status-label">Core Files</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value">50+</div>
                        <div class="status-label">Commands</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value">12</div>
                        <div class="status-label">Database Tables</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value">99.9%</div>
                        <div class="status-label">Uptime Target</div>
                    </div>
                    <div class="status-card">
                        <div class="status-